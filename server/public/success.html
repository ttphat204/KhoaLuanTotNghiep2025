<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation - H·ªá th·ªëng Tuy·ªÉn d·ª•ng</title>
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: linear-gradient(120deg, #e0e7ff 0%, #f8fafc 100%);
        margin: 0;
        padding: 0;
        min-height: 100vh;
      }
      .container {
        max-width: 1000px;
        margin: 40px auto;
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 4px 24px rgba(80, 112, 255, 0.1);
        padding: 36px 24px 28px 24px;
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
        padding-bottom: 20px;
        border-bottom: 2px solid #e0e7ff;
      }
      .header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 10px;
      }
      .header p {
        color: #64748b;
        font-size: 1.1rem;
        margin: 0;
      }
      .section {
        margin-bottom: 40px;
      }
      .section-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        letter-spacing: 1px;
        border-left: 4px solid #6366f1;
        padding-left: 15px;
      }
      .section-desc {
        color: #64748b;
        margin-left: 14px;
        font-size: 1rem;
        font-weight: 400;
      }
      .endpoint-list {
        margin-top: 15px;
      }
      .endpoint {
        background: #f8fafc;
        border: 1.5px solid #c7d2fe;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 16px;
        transition: all 0.3s ease;
        position: relative;
        box-shadow: 0 2px 8px rgba(80, 112, 255, 0.04);
      }
      .endpoint:hover {
        border: 1.5px solid #6366f1;
        box-shadow: 0 6px 20px rgba(99, 102, 241, 0.15);
        transform: translateY(-2px);
      }
      .endpoint-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
      }
      .endpoint-info {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 12px;
      }
      .method {
        background: #6366f1;
        color: #fff;
        font-weight: 600;
        border-radius: 6px;
        padding: 6px 16px;
        font-size: 0.9rem;
        min-width: 70px;
        text-align: center;
        letter-spacing: 1px;
        box-shadow: 0 2px 4px rgba(99, 102, 241, 0.2);
      }
      .method.get { background: #10b981; }
      .method.post { background: #3b82f6; }
      .method.put { background: #f59e0b; }
      .method.delete { background: #ef4444; }
      .path {
        font-family: "Consolas", monospace;
        font-size: 1rem;
        color: #3730a3;
        font-weight: 600;
        background: #e0e7ff;
        padding: 4px 10px;
        border-radius: 6px;
        border: 1px solid #c7d2fe;
      }
      .desc {
        color: #334155;
        font-size: 0.95rem;
        font-weight: 500;
      }
      .endpoint-details {
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid #e2e8f0;
      }
      .details-row {
        display: flex;
        margin-bottom: 8px;
        font-size: 0.9rem;
      }
      .detail-label {
        color: #64748b;
        font-weight: 600;
        min-width: 120px;
        margin-right: 10px;
      }
      .detail-value {
        color: #334155;
        font-family: "Consolas", monospace;
        background: #f1f5f9;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.85rem;
      }
      .copy-btn {
        background: #6366f1;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 8px 16px;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 6px;
        box-shadow: 0 2px 4px rgba(99, 102, 241, 0.2);
      }
      .copy-btn:hover {
        background: #4338ca;
        transform: translateY(-1px);
      }
      .copy-btn.copied {
        background: #22c55e;
        color: #fff;
      }
      .copy-icon {
        font-size: 1em;
      }
      .status-badge {
        background: #dcfce7;
        color: #166534;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        margin-left: 8px;
      }
      .info-box {
        background: #f0f9ff;
        border: 1px solid #0ea5e9;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 20px;
      }
      .info-box h3 {
        color: #0369a1;
        margin: 0 0 8px 0;
        font-size: 1.1rem;
      }
      .info-box p {
        color: #0c4a6e;
        margin: 0;
        font-size: 0.95rem;
      }
      .code-block {
        background: #1e293b;
        color: #e2e8f0;
        padding: 12px;
        border-radius: 6px;
        font-family: 'Consolas', monospace;
        font-size: 0.85rem;
        margin: 8px 0;
        overflow-x: auto;
      }
      @media (max-width: 768px) {
        .container {
          margin: 20px;
          padding: 20px;
        }
        .header h1 {
          font-size: 2rem;
        }
        .section-title {
          font-size: 1.4rem;
        }
        .endpoint {
          padding: 16px;
        }
        .endpoint-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }
        .copy-btn {
          width: 100%;
          justify-content: center;
        }
        .endpoint-info {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }
        .details-row {
          flex-direction: column;
          gap: 4px;
        }
        .detail-label {
          min-width: auto;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üöÄ API Documentation</h1>
        <p>H·ªá th·ªëng Tuy·ªÉn d·ª•ng - Qu·∫£n l√Ω t√†i kho·∫£n, c√¥ng vi·ªác v√† ·ª©ng vi√™n</p>
      </div>

      <!-- Authentication Info -->
      <div class="info-box">
        <h3>üîê Authentication & Logout</h3>
        <p><strong>JWT Token-based:</strong> H·ªá th·ªëng s·ª≠ d·ª•ng JWT tokens cho authentication. Kh√¥ng c·∫ßn API logout ri√™ng.</p>
        <p><strong>Client-side Logout:</strong> X√≥a token ·ªü frontend ƒë·ªÉ logout.</p>
        <div class="code-block">
// Client-side logout function
const handleLogout = () => {
  localStorage.removeItem('token');
  localStorage.removeItem('user');
  sessionStorage.clear();
  // Redirect to login
  window.location.href = '/login';
};
        </div>
      </div>

      <!-- Auth API -->
      <div class="section">
        <div class="section-title">üîê Auth API <span class="section-desc">X√°c th·ª±c & ƒêƒÉng k√Ω</span></div>
        <div class="endpoint-list">
          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/auth/register/candidate</span>
                <span class="desc">ƒêƒÉng k√Ω t√†i kho·∫£n ·ª©ng vi√™n</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/auth/register/candidate">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">email, phone, password, fullName, address, gender, dateOfBirth</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Response:</span>
                <span class="detail-value">Auth user + Candidate profile</span>
              </div>
              <div class="details-row">
                <span class="detail-label">GET Method:</span>
                <span class="detail-value">Xem d·ªØ li·ªáu th·ª±c t·∫ø t·ª´ database</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/auth/register/employer</span>
                <span class="desc">ƒêƒÉng k√Ω t√†i kho·∫£n nh√† tuy·ªÉn d·ª•ng</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/auth/register/employer">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">email, phone, password, companyName, address, industry, companySize</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">companyWebsite, companyDescription, foundedYear</span>
              </div>
              <div class="details-row">
                <span class="detail-label">GET Method:</span>
                <span class="detail-value">Xem d·ªØ li·ªáu th·ª±c t·∫ø t·ª´ database</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/auth/login</span>
                <span class="desc">ƒêƒÉng nh·∫≠p ƒëa role (admin/candidate/employer)</span>
                <span class="status-badge">UPDATED</span>
              </div>
              <button class="copy-btn" data-path="/api/auth/login">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">email, password</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Features:</span>
                <span class="detail-value">Account locking, Role-based response</span>
              </div>
              <div class="details-row">
                <span class="detail-label">GET Method:</span>
                <span class="detail-value">Xem d·ªØ li·ªáu th·ª±c t·∫ø t·ª´ database</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/auth/forgot-password</span>
                <span class="desc">Qu√™n m·∫≠t kh·∫©u</span>
              </div>
              <button class="copy-btn" data-path="/api/auth/forgot-password">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/auth/reset-password</span>
                <span class="desc">ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u</span>
              </div>
              <button class="copy-btn" data-path="/api/auth/reset-password">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- User Management API -->
      <div class="section">
        <div class="section-title">üë§ User Management API <span class="section-desc">Qu·∫£n l√Ω th√¥ng tin ng∆∞·ªùi d√πng</span></div>
        <div class="endpoint-list">
          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method put">PUT</span>
                <span class="path">/api/user/personal-info</span>
                <span class="desc">C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n (·ª©ng vi√™n)</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/user/personal-info">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">userId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">email, phone, gender, dateOfBirth</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method put">PUT</span>
                <span class="path">/api/user/company-info</span>
                <span class="desc">C·∫≠p nh·∫≠t th√¥ng tin c√¥ng ty (nh√† tuy·ªÉn d·ª•ng)</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/user/company-info">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">userId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">companyName, industry, companySize, address, companyWebsite, companyDescription, foundedYear</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method put">PUT</span>
                <span class="path">/api/user/account-info</span>
                <span class="desc">C·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n c∆° b·∫£n</span>
              </div>
              <button class="copy-btn" data-path="/api/user/account-info">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">userId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">email, phone, address</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method delete">DELETE</span>
                <span class="path">/api/user/account</span>
                <span class="desc">X√≥a t√†i kho·∫£n ho√†n to√†n</span>
              </div>
              <button class="copy-btn" data-path="/api/user/account">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">userId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Warning:</span>
                <span class="detail-value">X√≥a c·∫£ Auth, Candidates, Employers data</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Job Management API -->
      <div class="section">
        <div class="section-title">üíº Job Management API <span class="section-desc">Qu·∫£n l√Ω tin tuy·ªÉn d·ª•ng (CRUD)</span></div>
        <div class="endpoint-list">
          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method get">GET</span>
                <span class="path">/api/job/manage</span>
                <span class="desc">L·∫•y danh s√°ch c√¥ng vi·ªác c·ªßa employer</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/job/manage">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Query:</span>
                <span class="detail-value">employerId, jobId?, page?, limit?, status?</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Features:</span>
                <span class="detail-value">Pagination, Filtering, Populate category</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method post">POST</span>
                <span class="path">/api/job/manage</span>
                <span class="desc">T·∫°o c√¥ng vi·ªác m·ªõi</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/job/manage">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">employerId, jobTitle, description, salaryRange, location, jobType, categoryId, experienceLevel, applicationDeadline</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">requirements, benefits, skillsRequired</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method put">PUT</span>
                <span class="path">/api/job/manage</span>
                <span class="desc">C·∫≠p nh·∫≠t c√¥ng vi·ªác</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/job/manage">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">jobId, employerId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Optional:</span>
                <span class="detail-value">All job fields</span>
              </div>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method delete">DELETE</span>
                <span class="path">/api/job/manage</span>
                <span class="desc">X√≥a c√¥ng vi·ªác</span>
                <span class="status-badge">NEW</span>
              </div>
              <button class="copy-btn" data-path="/api/job/manage">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
            <div class="endpoint-details">
              <div class="details-row">
                <span class="detail-label">Required:</span>
                <span class="detail-value">jobId, employerId</span>
              </div>
              <div class="details-row">
                <span class="detail-label">Security:</span>
                <span class="detail-value">Verify employer ownership</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Legacy API (for reference) -->
      <div class="section">
        <div class="section-title">üìö Legacy API <span class="section-desc">API c≈© (tham kh·∫£o)</span></div>
        <div class="endpoint-list">
          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method get">GET</span>
                <span class="path">/api/crud/users</span>
                <span class="desc">Qu·∫£n l√Ω users (CRUD)</span>
              </div>
              <button class="copy-btn" data-path="/api/crud/users">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method get">GET</span>
                <span class="path">/api/crud/candidates</span>
                <span class="desc">Qu·∫£n l√Ω candidates (CRUD)</span>
              </div>
              <button class="copy-btn" data-path="/api/crud/candidates">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
          </div>

          <div class="endpoint">
            <div class="endpoint-header">
              <div class="endpoint-info">
                <span class="method get">GET</span>
                <span class="path">/api/crud/companies</span>
                <span class="desc">Qu·∫£n l√Ω companies (CRUD)</span>
              </div>
              <button class="copy-btn" data-path="/api/crud/companies">
                <span class="copy-icon">üìã</span>Copy
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Copy endpoint path to clipboard when click Copy button
      document.querySelectorAll(".copy-btn").forEach(function (btn) {
        btn.addEventListener("click", function (e) {
          e.stopPropagation();
          const path = btn.getAttribute("data-path");
          navigator.clipboard.writeText(path);
          btn.classList.add("copied");
          btn.innerHTML = '<span class="copy-icon">‚úÖ</span>ƒê√£ copy!';
          setTimeout(() => {
            btn.classList.remove("copied");
            btn.innerHTML = '<span class="copy-icon">üìã</span>Copy';
          }, 1200);
        });
      });

      // Add hover effects for better UX
      document.querySelectorAll(".endpoint").forEach(function (endpoint) {
        endpoint.addEventListener("mouseenter", function() {
          this.style.transform = "translateY(-2px)";
        });
        endpoint.addEventListener("mouseleave", function() {
          this.style.transform = "translateY(0)";
        });
      });
    </script>
  </body>
</html> 